import part1InputJson from './inputs/part-1-input.json';
import part2InputJson from './inputs/part-2-input.json';
import { VulnerabilityService } from './src/vulnerability-service';
import { writeJsonFile } from './src/utils';

const part1Service = new VulnerabilityService(part1InputJson);
const part1Results = part1Service.getHighestVulnerabilities();

const part2Service = new VulnerabilityService(part2InputJson);
const part2Results = part2Service.getVulnerabilitiesWhereFixAvailableIsNotTrue();

writeJsonFile(
    'part-1-output.json',
    part1Service.assembleOutputJsonString(part1Results)
);
writeJsonFile(
    'part-2-output.json',
    part2Service.assembleOutputJsonString(part2Results)
);
